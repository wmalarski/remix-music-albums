fragment Review on review {
  id
  rate
  text
  createdAt
}

fragment ReviewWithAlbumAndArtist on review {
  ...Review
  albumByAlbum {
    ...AlbumWithArtist
  }
}

mutation InsertReview($review: review_insert_input!) {
  insert_review_one(object: $review) {
    id
  }
}

query SelectReviews($limit: Int, $offset: Int) {
  review(limit: $limit, offset: $offset) {
    ...ReviewWithAlbumAndArtist
  }
}

mutation DeleteReview($id: Int!) {
  delete_review_by_pk(id: $id) {
    album
  }
}

mutation UpdateReview($id: Int!, $input: review_set_input) {
  update_review_by_pk(pk_columns: { id: $id }, _set: $input) {
    id
  }
}
