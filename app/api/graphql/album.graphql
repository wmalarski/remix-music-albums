fragment Album on album {
  id
  sid
  title
  year
}

fragment AlbumWithArtist on album {
  ...Album
  artistByArtist {
    ...Artist
  }
}

fragment AlbumWithArtistAndReviews on album {
  ...AlbumWithArtist
  reviews {
    ...Review
  }
}

query GetAlbums($limit: Int, $offset: Int) {
  album(limit: $limit, offset: $offset) {
    ...AlbumWithArtist
  }
}

mutation InsertAlbum($album: album_insert_input!) {
  insert_album_one(object: $album) {
    id
  }
}

query GetAlbum($id: Int!) {
  album_by_pk(id: $id) {
    ...AlbumWithArtist
  }
}
