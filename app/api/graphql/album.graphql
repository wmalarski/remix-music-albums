fragment Album on album {
  id
  sid
  title
  year
}

fragment AlbumWithArtist on album {
  ...Album
  artistByArtist {
    ...Artist
  }
}

fragment AlbumWithArtistAndReviews on album {
  ...AlbumWithArtist
  reviews {
    ...Review
  }
}

query RandomAlbums($limit: Int) {
  randomAlbums: random_albums(limit: $limit) {
    id
  }
}

query SelectAlbums($limit: Int, $offset: Int) {
  album(limit: $limit, offset: $offset) {
    ...AlbumWithArtist
  }
  albumAggregate: album_aggregate {
    aggregate {
      count
    }
  }
}

mutation InsertAlbum($album: album_insert_input!) {
  insertAlbumOne: insert_album_one(object: $album) {
    id
  }
}

query SelectAlbum($id: Int!) {
  albumByPk: album_by_pk(id: $id) {
    ...AlbumWithArtistAndReviews
  }
}

mutation DeleteAlbum($id: Int!) {
  deleteAlbumByPk: delete_album_by_pk(id: $id) {
    artist
  }
}

mutation UpdateAlbum($id: Int!, $input: album_set_input) {
  updateAlbumByPk: update_album_by_pk(pk_columns: { id: $id }, _set: $input) {
    id
  }
}
