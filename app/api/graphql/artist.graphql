fragment Artist on artist {
  id
  sid
  name
}

fragment ArtistWithAlbums on artist {
  ...Artist
  albums {
    ...Album
  }
}

query SelectArtists($limit: Int, $offset: Int) {
  artist(limit: $limit, offset: $offset) {
    ...Artist
  }
  artistAggregate: artist_aggregate {
    aggregate {
      count
    }
  }
}

mutation InsertArtist($artist: artist_insert_input!) {
  insertArtistOne: insert_artist_one(object: $artist) {
    id
  }
}

query SelectArtist($id: Int!) {
  artistByPk: artist_by_pk(id: $id) {
    ...ArtistWithAlbums
  }
}

mutation DeleteArtist($id: Int!) {
  deleteArtistByPk: delete_artist_by_pk(id: $id) {
    id
  }
}

mutation UpdateArtist($id: Int!, $input: artist_set_input) {
  updateArtistByPk: update_artist_by_pk(pk_columns: { id: $id }, _set: $input) {
    id
  }
}
